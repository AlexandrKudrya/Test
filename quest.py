print("Добро пожаловать в Средневековье имени Сани!")
print("Ты — Саня, рыцарь-затворник. Живёшь в башне с зашторенными окнами, ненавидишь солнце и людей.")
print("Но судьба стучит в дверь — король требует твоей помощи. Или не судьба, а просто ветер?")
print("Твоя цель: выбраться из башни и решить, что делать с этим дурацким миром.")
print("-----------------------------------")

inventory = []
hp = 100

print("Ты сидишь в башне. Солнце лезет в щели штор, как назойливый сосед.")
print("Выбор: 1 — выйти на улицу, 2 — остаться в башне, 3 — крикнуть в окно.")
choice1 = input("Что делаешь? (1/2/3): ")

if choice1 == "1":
    print("Ты открываешь дверь. Солнце бьёт в лицо, как пощёчина от природы. Хп -10.")
    hp = hp - 10
    print("Перед тобой: грязная дорога к замку и лес. В инвентарь падает ржавая ложка (зачем-то).")
    inventory.append("ржавая ложка")
    print("Выбор: 1 — идти к замку, 2 — в лес, 3 — вернуться в башню.")
    choice2 = input("Куда? (1/2/3): ")

    if choice2 == "1":
        print("Ты плетёшься к замку. Стражник орёт: 'Назови пароль!'")
        print("Выбор: 1 — сказать 'Солнце — враг', 2 — ткнуть его ложкой, 3 — молчать.")
        choice3 = input("Что делаешь? (1/2/3): ")

        if choice3 == "1":
            print("Стражник ржёт: 'Ты псих, но проходи!' Король даёт задание — убить дракона.")
            print("Ты идёшь в пещеру. Дракон спит. Выбор: 1 — ткнуть ложкой, 2 — уйти.")
            choice4 = input("Что делаешь? (1/2): ")
            if choice4 == "1":
                print("Дракон просыпается, смотрит на ложку и умирает от смеха. Ты — герой!")
                print("КОНЕЦ 1: Саня — Случайный Драконоборец. Хп:", hp)
            elif choice4 == "2":
                print("Ты ушёл. Король разозлился и выгнал тебя из королевства.")
                print("КОНЕЦ 2: Саня — Бродяга Без Солнца. Хп:", hp)
            else:
                print("Ты замешкался. Дракон чихнул огнём. Хп -100. Ты сгорел.")
                print("КОНЕЦ 3: Саня — Жареный Рыцарь. Хп: 0")

        elif choice3 == "2":
            print("Ты тыкаешь стражника ложкой. Он падает от удивления. Ты воруешь его шлем.")
            inventory.append("шлем")
            print("Король в ярости, но шлем — твой. Ты прячешься в лесу.")
            print("СЕКРЕТНЫЙ КОНЕЦ: Саня — Ложечный Король Леса. Хп:", hp)

        elif choice3 == "3":
            print("Ты молчишь. Стражник бьёт тебя по голове. Хп -50.")
            hp = hp - 50
            if hp <= 0:
                print("КОНЕЦ 3: Саня — Жареный Рыцарь. Хп: 0")
            else:
                print("Ты очнулся в темнице. Король забыл про тебя.")
                print("КОНЕЦ 2: Саня — Бродяга Без Солнца. Хп:", hp)

    elif choice2 == "2":
        print("Ты идёшь в лес. Там — волк. Выбор: 1 — дать ложку, 2 — убежать.")
        choice3 = input("Что делаешь? (1/2): ")
        if choice3 == "1":
            print("Волк ест ложку и уходит. Ты находишь клад — шлем!")
            inventory.append("шлем")
            print("СЕКРЕТНЫЙ КОНЕЦ: Саня — Ложечный Король Леса. Хп:", hp)
        elif choice3 == "2":
            print("Ты бежишь, но спотыкаешься. Волк догоняет. Хп -100.")
            hp = 0
            print("КОНЕЦ 3: Саня — Жареный Рыцарь. Хп: 0")
        else:
            print("Ты застыл. Волк съел тебя. Хп -100.")
            hp = 0
            print("КОНЕЦ 3: Саня — Жареный Рыцарь. Хп: 0")

    elif choice2 == "3":
        print("Ты вернулся в башню. Солнце ушло. Ты сидишь в темноте до конца дней.")
        print("КОНЕЦ 2: Саня — Бродяга Без Солнца. Хп:", hp)

elif choice1 == "2":
    print("Ты сидишь в башне. Стук в дверь усиливается. Выбор: 1 — открыть, 2 — игнорировать.")
    choice2 = input("Что делаешь? (1/2): ")
    if choice2 == "1":
        print("Это гонец. Он орёт про дракона и уходит. Ты снова один.")
        print("КОНЕЦ 2: Саня — Бродяга Без Солнца. Хп:", hp)
    elif choice2 == "2":
        print("Стук прекратился. Ты победил судьбу, но остался в башне навсегда.")
        print("КОНЕЦ 2: Саня — Бродяга Без Солнца. Хп:", hp)
    else:
        print("Ты замешкался. Дверь вышибают. Хп -100. Ты мёртв.")
        hp = 0
        print("КОНЕЦ 3: Саня — Жареный Рыцарь. Хп: 0")

elif choice1 == "3":
    print("Ты орёшь в окно: 'Солнце — враг!' Кто-то кидает в тебя камнем. Хп -20.")
    hp = hp - 20
    print("Выбор: 1 — выйти и драться, 2 — спрятаться.")
    choice2 = input("Что делаешь? (1/2): ")
    if choice2 == "1":
        print("Ты выходишь. Это крестьянин. Ты бьёшь его. Он убегает. Ты — герой?")
        print("КОНЕЦ 1: Саня — Случайный Драконоборец. Хп:", hp)
    elif choice2 == "2":
        print("Ты прячешься. Камни летят в окно. Башня рушится. Хп -100.")
        hp = 0
        print("КОНЕЦ 3: Саня — Жареный Рыцарь. Хп: 0")
    else:
        print("Ты застыл. Камень в голову. Хп -100.")
        hp = 0
        print("КОНЕЦ 3: Саня — Жареный Рыцарь. Хп: 0")

else:
    print("Ты замешкался. Солнце прожгло шторы. Хп -100. Ты сгорел.")
    hp = 0
    print("КОНЕЦ 3: Саня — Жареный Рыцарь. Хп: 0")

print("Игра окончена. Твой инвентарь:", inventory)
